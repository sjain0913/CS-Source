<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Settings</title>
    Choose your settings
</head>
<body>
<div>
            Please Enter your Character Name
            <form name="createCharacterName" method = "post" action = '/createName'>
                <input name="characterName" id='n1'>
            </form>
        </div>
        <div>
            <form name="difficultySelect" method="post" action="">
                <input type="radio" name="difficulty" value="Easy" id='d1'/>Easy
                <input type="radio" name="difficulty" value="Medium" id='d2'/>Medium
                <input type="radio" name="difficulty" value="Hard" id ='d3'/>Hard
            </form>
        </div>
        <div>
            <form method="get" action = '/config'>
                <button onclick="parseForm()">Submit</button>
            </form>
        </div>
</body>

<script type="text/javascript">

     function parseForm() {
        var diff = 0;
        var name = document.getElementById("n1").value;
        var skillpoint = 0;
        var xhttp = new XMLHttpRequest();

        if (document.getElementById('d1').checked) {
            diff = 1;
        } else if (document.getElementById('d2').checked) {
            diff = 2;
        } else if (document.getElementById('d3').checked) {
            diff = 3;
        }
        console.log(xhttp)
        xhttp.open("POST", "/DifficultyReceiver", true);
        xhttp.setRequestHeader('Content-Type', 'application/json');
        xhttp.send(JSON.stringify({
            'difficulty' : diff,
            'name' : name
        }));
    }

</script>


</html>